üéØ ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠‡∏ä‡∏∏‡∏î **Custom GitHub Action ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Preview Deploy** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå `MeeChain DApp` ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö Vercel ‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö environment separation ‡πÅ‡∏ö‡∏ö‡∏°‡∏∑‡∏≠‡πÇ‡∏õ‡∏£

---

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
.github/
‚îî‚îÄ‚îÄ actions/
    ‚îî‚îÄ‚îÄ deploy-preview/
        ‚îú‚îÄ‚îÄ action.yml
        ‚îî‚îÄ‚îÄ entrypoint.sh
```

---

## üßæ `action.yml`

```yaml
name: Deploy Preview
description: Deploy MeeChain DApp to Vercel preview environment

inputs:
  vercel-token:
    required: true
    description: Vercel access token
  vercel-org-id:
    required: true
    description: Vercel organization ID
  vercel-project-id:
    required: true
    description: Vercel project ID

runs:
  using: "composite"
  steps:
    - name: Install dependencies
      run: pnpm install

    - name: Build project
      run: pnpm run build

    - name: Deploy to Vercel (Preview)
      shell: bash
      run: |
        chmod +x ${{ github.action_path }}/entrypoint.sh
        ${{ github.action_path }}/entrypoint.sh \
          "${{ inputs.vercel-token }}" \
          "${{ inputs.vercel-org-id }}" \
          "${{ inputs.vercel-project-id }}"
```

---

## üñ•Ô∏è `entrypoint.sh`

```bash
#!/bin/bash

VERCEL_TOKEN=$1
VERCEL_ORG_ID=$2
VERCEL_PROJECT_ID=$3

npx vercel deploy \
  --token "$VERCEL_TOKEN" \
  --org-id "$VERCEL_ORG_ID" \
  --project-id "$VERCEL_PROJECT_ID" \
  --prod=false \
  --confirm
```

---

## üîê Secrets ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô GitHub

| Secret Name | ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö |
|-------------|--------|
| `VERCEL_TOKEN` | ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö deploy |
| `VERCEL_ORG_ID` | ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô Vercel |
| `VERCEL_PROJECT_ID_MEECHAIN` | ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå `meechain-dapp` |

---

## üß† ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô workflow (`preview.yml`)

```yaml
name: Preview

on:
  pull_request:
    branches: [main, production, "feature/**", "preview/**"]

jobs:
  deploy-meechain:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Deploy preview
        uses: ./.github/actions/deploy-preview
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID_MEECHAIN }}
```

---

## üéØ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î

‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö:
- ‚úÖ ‡∏™‡πà‡∏á deploy URL ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ comment ‡πÉ‡∏ô PR
- ‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö smart contract registry
- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ deploy ‡πÅ‡∏•‡∏∞ log metadata

‡∏™‡πà‡∏á‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡πÅ‡∏ö‡∏ö next-level üòé
